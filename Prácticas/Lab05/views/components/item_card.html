{% macro display_item(product) %}

<div class="card h-100" style="width: 12rem">
  <img src="{{ product.img_src }}" class="img-fluid rounded mx-auto d-block" style="max-width: 150px" alt="{{ product.img_alt }}"/>
  <div class="card-body d-flex flex-column justify-content-between">
    <h6 class="card-title">{{ product.img_alt }}</h6>
    <p class="card-text text-muted mb-2" style="font-size: 0.8em">{{ product.format_text }}</p>
    {% if product.discount %}
      <div class="text-end d-flex flex-row align-items-baseline">
        <span class="text-muted text-decoration-line-through" style="font-size: 0.7em;">
          {{ product.price_number }} €
        </span>
        <strong class="text-danger mx-2">{{ product.discount_price_number }} €</strong>
        <p class="text-muted" style="font-size: 0.8em;">/ud.</p>
      </div>
    {% else %}
      <div class="d-flex flex-row align-items-baseline">
        <strong class="card-text text-dark me-2">{{ product.price_number }} €</strong>
        <p class="text-muted" style="font-size: 0.8em;">/ud.</p>
      </div> 
    {% endif %}
    {% if is_admin %}
      <input 
        type="number" 
        max="{{product.price_number}}" 
        step="0.01"
        class="form-control form-control-sm my-2 modify-price-input" 
        data-product-id="{{ product._id }}" 
        value="{{ product.price_number }}"
      >
    {% endif %}
    <a href="/cart/{{ product._id }}" class="btn w-100 btn-outline-primary rounded-pill mt-auto">Añadir al carro</a>
    {% if is_admin %}
      <a class="btn w-100 btn-outline-warning rounded-pill mt-2 modify-price-button">
        <i class="fa-solid fa-pen-to-square me-2"></i>
      </a>
    {% endif %}
  </div>
</div>

{% endmacro %}
