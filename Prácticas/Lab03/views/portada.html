{% extends "base.html" %}

{% from "components/item_card.html" import display_item with context %}

{% block content %}

<div class="container gap-md-3">

  <!-- Sección de productos del momento -->
  <section>
    <h2 class="h4 fw-bold">Productos del momento</h2>
    <p class="text-muted small">Selección de productos destacados</p>
    
    <div class="card text-bg-dark border-0">
      <img src="https://prod-mercadona.imgix.net/images/6f1d28dbc7d10115593769c392dbdbca.jpg" 
           class="card-img" 
           alt="Truco o trato" 
           style="max-height: 300px; object-fit: cover;">
      
      <div class="card-img-overlay d-flex align-items-end">
        <a href="/search-results?q=" class="btn btn-outline-light rounded-pill">Ver productos</a>
      </div>
    </div>
  </section>

  <hr class="my-4">

  <!-- Sección de bajadas de precio -->
  <section>
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div>
        <h2 class="h5 fw-bold">Bajadas de precio</h2>
        <p class="text-muted small">Échales un vistazo</p>
      </div>
      <a href="/search-results?q=" class="text-decoration-none mb-3 d-inline-block">Ver todas las bajadas de precio &gt;</a>
    </div>

    <div class="overflow-x-auto hide-scrollbar">
      <div class="d-flex gap-3 flex-nowrap">
        {% for product in discounted_products %}
        <div class="col-auto">
          {{ display_item(product) }}
        </div>
        {% endfor %}
      </div>
    </div>
  </section>

  <hr class="my-4">

  <!-- Sección de chocolate -->
  <section>
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div>
        <h2 class="h5 fw-bold">Chocolate</h2>
        <p class="text-muted small">Los mejores chocolates a tu alcance</p>
      </div>
      <a href="/search-results?q=Chocolate" class="text-decoration-none mb-3 d-inline-block">Ver todos los chocolates &gt;</a>
    </div>

    <div class="overflow-x-auto hide-scrollbar">
      <div class="d-flex gap-3 flex-nowrap">
        {% for product in chocolate_products %}
        <div class="col-auto">
          {{ display_item(product) }}
        </div>
        {% endfor %}
      </div>
    </div>
  </section>

  <hr class="my-4">

</div>

{% endblock %}